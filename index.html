<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Classes Javascript</title>

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        
        <!-- External CSS -->
        <link rel='stylesheet' href="styles.css">

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,300&family=Roboto+Mono:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="container-xxl"> <!-- Usando .container-xxl para definir uma 'max-width' de 100% até o breakpoint especificado  -->
            <div class="row bd-intro">
                <h1>Classes Javascript</h1>
                <hr>
                <div class="col-md-4 text-center">
                    <p>As classes foram introduzidas no JS pelo ES6;</p>
                </div>
                <div class="col-md-4 text-center">
                    <p>As Classes são <b>templates</b> para criar <b>Javascript Objects</b>;</p>
                </div>
                <div class="col-md-4 text-center">
                    <p>Uma classe NÃO é um objeto.</p>
                </div>
            </div>
        </div>

        <div class="container-xxl">
            <div class="bd-content">
                <div class="boundingLines"></div> <!-- Bordas para Organização do Conteúdo -->
                <div class="ps-4">
                    <p><mark>Sintaxe</mark></p> <!-- Usando a tag code para definir a background-color -->
                    <ul>
                        <li class="mainLi">Use a palavra-chave <code class="inlineCodeTag">class</code> para criar uma classe</li>
                        <li class="mainLi">Sempre deve ser adicionado um método chamado "constructor()"
                            <ul>
                                <li>O método <b>constructor</b> é chamado automaticamente quando um novo objeto é criado;</li>
                                <li>Ele é usado para inicializar propriedades dos objetos;</li>
                                <li>Caso ele não seja definido, o Javascript irá automaticamente adicionar um método constructor vazio;</li>
                                <li>A sintaxe das classes sempre deve ser escrita em "strict mode" (ex: haverá um erro caso uma variável seja usada sem ser declarada);</li>
                            </ul>
                        </li>
                    </ul>
                    <div class="ps-4">
                        <p>Escrita:</p>
                        <pre class="codeBg ps-4">
                            <code>
class ClassName {
    <b>constructor()</b> { ... }
}
                            </code>
                        </pre>
                        <br>
                        <p>ex: Criar uma classe chamada 'Car' com duas propriedades iniciais 'name' e 'year'</p>
                        <pre class="codeBg ps-4">
                            <code>
class Car {
    constructor(name, year) {
        this.name = name;
        this.year = year;
    }
}
const myCar = new Car("Ford", 2014);	//Usando a classe Car para criar um novo objeto chmado myCar
                            </code>
                        </pre>
                    </div> 
                </div>
            </div>
            <br>
        </div>
        <br>

        <div class="container-xxl">
            <div class="bd-content">
                <div class="boundingLines"></div>
                <div class="ps-4">
                    <p><mark>Métodos de uma Classe</mark></p>
                    <ul>
                        <li>Os métodos de uma classe são criados com a mesma sintaxe dos 'object methods'</li>
                    </ul>
                    <div class="ps-4">
                        <pre class="codeBg ps-4">
                            <code> 
class ClassName {
    constructor() { ... } //Sempre deve ser criada
    method_1() { ... }
    method_2() { ... }
    method_3() { ... }
}
                            </code>
                        </pre>
                        <br>
                        <p>ex: Criar uma classe com o método age(), que retorna a idade de um carro </p>
                        <pre class="codeBg ps-4">
                            <code> 
class Car {
    constructor(name, year) {
        this.name = name;
        this.year = year;
    }
    age() {
        let date = new Date();
        return date.getFullYear() - this.year;
    }
}
let myCar = new Car("Ford", 2014);
console.log( "My car is " + myCar.age() + " years old");
                            </code>
                        </pre>
                        <br>
                        <p>
                            Parâmetros podem ser enviados para os métodos de uma classe: <br>
                            Exemplo:
                        </p>
                        <pre class="codeBg ps-4">
                            <code>
class Car {
    constructor(name, year) {
    this.name = name;
    this.year = year;
    }
    age(x) {
        return x - this.year;
    }
    }
    let date = new Date();
    let year = date.getFullYear();
    let myCar = new Car("Ford", 2014);
    console.log( "My car is " + myCar.age(year) + " years old" ); 	//Enviando o parâmetro 'year' para o método 'age()' da classe Car, através do objeto myCar
                            </code>
                        </pre>
                        <br>
                    </div>
                </div>
            </div>
        </div>
        <br>

        <div class="container-xxl">
            <div class="bd-content">
                <div class="boundingLines"></div>
                <div class="ps-4">
                    <p><mark>Herança de Classes</mark></p><h6>no javascript</h6>
                    <div class="ps-4">
                        <ul>
                            <li>A palavra chave 'extends' é usada para criar uma herança entre classes diferentes  </li>
                                <ul>
                                    <li>Uma classe criada com a palavra 'extends' irá herdar todos os métodos de alguma outra classe</li>
                                </ul>
                            <li>A herança é útil para a reutilização de código, reutilizando propriedades e métodos de uma classe já existente  </li>
                        </ul>
                        <p>ex: Criar uma classe chamada 'Model' que irá herdar os métodos da classe 'Car'</p>
                        <pre class="codeBg ps-4">
                            <code>
class Car {
    constructor(brand) {
        this.carname = brand;
    }
    present() {
        return 'I have a ' + this.carname;
    }
}
                                            
class Model extends Car {		//Essa classe irá herdar todos os métodos da classe 'Car'
    constructor(brand, mod) {
        super(brand);			//O método Super() é responsável por chamar o método construtor da 'parent class', possibilitando assim acesso as propriedades e métodos dela
        this.model = mod;
    }
    show() {
        return this.present() + ', it is a ' + this.model;
    }
}	
let myCar = new Model("Ford", "Mustang");
document.getElementById("demo").innerHTML = myCar.show();
                            </code>
                        </pre>
                    </div>
                </div>
            </div>
        </div>
        <br>

        <div class="container-xxl">
            <div class="bd-content">
                <div class="boundingLines"></div>
                <div class="ps-4">
                    <p><mark>Getters e Setters</mark></p>
                    <div>
                        <ul>
                            <li>Classes permitem o uso de getters e setters</li>
                            <li>Getters e setters podem ser usados caso seja necessário fazer alguma modificação no valor antes de devolvê-lo ou antes de defini-lo.</li>
                        </ul>  
                        <p>ex: Criar um getter e um setter para a propriedade "carname":</p>
                        <pre class="codeBg ps-4">
                            <code>
class Car {
    constructor(brand) {
        this.carname = brand;
    }
    get cnam() {
        return this.carname;
    }
    set cnam(x) {
        this.carname = x;
    }
}

let myCar = new Car("Ford");
document.getElementById("demo").innerHTML = myCar.cnam;	//Mesmo que o getter seja um método, não se usa parênteses quando se quer pegar o valor da propriedade
                            </code>
                        </pre>
                        <ul>
                            <li>O nome do método getter ou setter não pode ser igual ao nome da propriedade, neste caso carname.</li>
                            <li>Programadores usam _ antes do nome da propriedade para separar o getter e setter da propriedade real</li>
                        </ul> 
                        <p>Exemplo:</p>
                        <pre class="codeBg ps-4">
                            <code>
class Car {
constructor(brand) {
    this._carname = brand;
}
get carname() {
    return this._carname;
}
set carname(x) {
    this._carname = x;
}
}

let myCar = new Car("Ford");
document.getElementById("demo").innerHTML = myCar.carname;
                            </code>
                        </pre>
                        <p>
                            Quando usar o setter, use a mesma sintaxe que é usada para definir o valor de uma propriedade, mas sem os parênteses<br>
                            Exemplo:
                        </p>
                        <pre class="codeBg ps-4">
                            <code>
class Car {
    constructor(brand) {
        this._carname = brand;
    }
    set carname(x) {
        this._carname = x;
    }
    get carname() {
        return this._carname;
    }
}

let myCar = new Car("Ford");
myCar.carname = "Volvo";					//Uso do setter, não se usa parênteses
document.getElementById("demo").innerHTML = myCar.carname; <br>
                            </code>
                        </pre>
                    </div>
                </div>
            </div>
        </div>
        <br>

        <div class="container-xxl alert alert-danger" role="alert">
            <div>
                <h2>HOISTING</h2>
                <p>
                    • Diferentemente de funções e de outras declarações em Javascript, a declaração de classes não pode ser içada (hoisted); <br>
                    • Isso significa que <b>uma classe deve ser DECLARADA ANTES DE SER USADA</b> <br>
                </p>
            </div>
        </div>

        <div class="container-xxl">
            <div class="bd-content">
                <div class="boundingLines"></div>
                <div class="ps-4">
                    <p><mark>Javascript Static Methods</mark></p>
                    <ul>
                        <li>O uso da palavra <code class="inlineCodeTag">static</code> antes do nome de um método faz com que ele não possa ser chamado em outros objetos</li>
                        <li>Os 'Static Methods' só podem ser chamados por outros 'object class'</li>
                    </ul>
                    <p>Exemplo:</p>
                    <pre class="codeBg ps-4">
                        <code>
class Car {
constructor(name) {
    this.name = name;
}
static hello() {
    return "Hello!!";
}
}
        
let myCar = new Car("Ford");

document.getElementById("demo").innerHTML = Car.hello();		// Você pode chamar o método hello() na classe Car
        
document.getElementById("demo").innerHTML = myCar.hello();  	// Mas não pode chamar em um objeto da classe Car, o que resultaria em um erro
                        </code>
                    </pre>
                    <br>
                    <p>
                        Se você deseja usar o objeto myCar dentro do método static, pode enviá-lo como um parâmetro: <br>
                        Exemplo: <br>
                    </p>            
                    <pre class="codeBg ps-4">
                        <code>
class Car {
constructor(name) {
this.name = name;
}
static hello(x) {
return "Hello " + x.name;
}
}
let myCar = new Car("Ford");
document.getElementById("demo").innerHTML = Car.hello(myCar);	//Objeto myCar sendo enviado como parâmetro
                        </code>
                    </pre>
                </div>
            </div>
        </div>
        <br>

        <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    </body>
</html>